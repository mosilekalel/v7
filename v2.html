<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H@B!B! // SUPABASE EDITION</title>
    
    <!-- CONFIGURA√á√ïES E DEPEND√äNCIAS -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <link id="favicon" rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üëª</text></svg>">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&display=swap');
        :root { --gold: #FFD700; --kali: #4d4dff; --accent: #00ff41; --purple: #8a2be2; --neon-red: #FF0000; --gray: #444; --orange: #ff8c00; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: #000; font-family: 'Consolas', monospace; color: #fff; }
        
        #hacker-intro { position: fixed; inset: 0; background: #000; z-index: 30000; display: flex; flex-direction: column; justify-content: center; align-items: center; transition: opacity 0.8s ease; }
        .intro-brand { font-size: 2.5rem; font-weight: bold; letter-spacing: 10px; color: var(--gold); margin-bottom: 5px; display: flex; font-family: 'ZCOOL KuaiLe', cursive; }
        .intro-iran { font-size: 1.5rem; color: var(--gold); margin-bottom: 40px; letter-spacing: 5px; display: flex; font-family: 'ZCOOL KuaiLe', cursive; }
        .decoded { color: var(--gold); text-shadow: 0 0 8px var(--gold); animation: letterFlicker 0.3s infinite alternate; }
        @keyframes letterFlicker { from { opacity: 0.7; text-shadow: 0 0 2px var(--gold); } to { opacity: 1; text-shadow: 0 0 12px var(--gold); } }

        #warning-screen { position: fixed; inset: 0; background: #000; z-index: 25000; display: none; flex-direction: column; justify-content: center; align-items: center; color: var(--neon-red); text-align: center; padding: 20px; transition: opacity 0.5s; }
        .warning-box { border: 1px solid var(--neon-red); padding: 30px; background: rgba(20, 0, 0, 0.9); max-width: 400px; box-shadow: 0 0 20px rgba(255, 0, 0, 0.2); }
        .skull-icon { font-size: 50px; margin-bottom: 15px; display: block; }

        #password-screen { position: fixed; inset: 0; background: #000; z-index: 22000; display: none; flex-direction: column; justify-content: center; align-items: center; transition: opacity 0.5s; }
        .pass-box { border: 1px solid var(--gold); padding: 30px; background: rgba(5, 5, 5, 0.95); text-align: center; width: 300px; box-shadow: 0 0 15px rgba(255, 215, 0, 0.1); }
        .pass-input { background: #000; border: 1px solid var(--gold); color: var(--gold); padding: 12px; width: 100%; text-align: center; font-size: 18px; outline: none; margin-bottom: 10px; box-sizing: border-box; transition: all 0.3s; }
        .pass-input:focus { box-shadow: 0 0 10px var(--gold); }
        .pass-error { border-color: var(--neon-red)!important; color: var(--neon-red)!important; animation: shake 0.4s; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-8px); } 75% { transform: translateX(8px); } }

        .btn-proceed, .btn-warning, .btn-pass { background: transparent; border: 1px solid var(--accent); color: var(--accent); padding: 12px 30px; font-family: 'Consolas', monospace; cursor: pointer; text-transform: uppercase; letter-spacing: 2px; font-size: 14px; box-shadow: 0 0 10px var(--accent); animation: btnNeon 1.5s infinite ease-in-out; transition: 0.3s; }
        .btn-pass { border-color: var(--gold); color: var(--gold); box-shadow: 0 0 10px var(--gold); animation: none; margin-top: 10px; }
        .btn-pass:hover { background: var(--gold); color: #000; box-shadow: 0 0 20px var(--gold); }
        .btn-warning { border-color: var(--neon-red); color: var(--neon-red); box-shadow: 0 0 10px var(--neon-red); }
        @keyframes btnNeon { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }

        #dataCanvas { position: fixed; inset: 0; z-index: 0; opacity: 0.15; pointer-events: none; }
        #matrix-bg-login { position: absolute; inset: 0; z-index: 1; opacity: 0.4; }
        .overlay { position: fixed; inset: 0; background: #000; z-index: 20000; display: none; justify-content: center; align-items: center; flex-direction: column; }

        .system-header { position: fixed; top: 0; left: 0; width: 100%; z-index: 100; background: rgba(5, 5, 5, 0.95); border-bottom: 1px solid #333; padding: 8px 15px; display: flex; justify-content: space-between; font-size: 10px; color: #666; box-sizing: border-box; }
        .container { position: relative; z-index: 10; width: 98%; max-width: 500px; margin: 40px auto 0 auto; height: calc(100vh - 80px); display: none; flex-direction: column; padding: 15px 10px 60px 10px; box-sizing: border-box; }
        .static-title { color: var(--gold); font-size: 2.2em; letter-spacing: 10px; text-align: center; font-weight: bold; }
        .top-monitor-row { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 10px; }
        .monitor { background: #050505; border: 1px solid #222; height: 85px; padding: 5px; overflow-y: auto; font-size: 9px; }
        #msg-feed-container { flex-grow: 1; overflow-y: auto; border: 1px solid #222; background: #0b141a; padding: 15px; margin-bottom: 10px; position: relative; background-image: url('https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png'); background-blend-mode: overlay; }
        .msg-block { max-width: 85%; background: #202c33; padding: 8px 12px; margin-bottom: 12px; border-radius: 0 12px 12px 12px; align-self: flex-start; }
        .msg-text { 
            font-size: 18px; 
            color: #ffffff; 
            line-height: 1.5; 
            word-wrap: break-word; 
            font-family: 'Arial', 'Helvetica', sans-serif; 
            font-weight: 600; 
            text-shadow: 0 0 5px rgba(255,255,255,0.5);
        }
        .msg-time { font-size: 9px; color: #8696a0; text-align: right; margin-top: 4px; }
        .terminal-block { height: 80px; background: #000; border: 1px solid #333; font-size: 10px; padding: 8px; overflow-y: auto; margin-bottom: 15px; }
        .log-g { color: var(--accent); } .log-y { color: var(--gold); } .log-r { color: var(--neon-red); } .log-b { color: var(--orange); }
        .command-grid { display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 8px; }
        .btn-tool { height: 55px; background: #0a0a0a; border: 1px solid #333; color: #444; font-size: 10px; font-weight: bold; cursor: pointer; text-transform: uppercase; }
        .btn-tool:disabled { opacity: 0.3; cursor: not-allowed; border-color: var(--gray)!important; color: var(--gray)!important; }
        .active-xss { border-color: var(--purple)!important; color: var(--purple)!important; }
        .active-sql { border-color: var(--gold)!important; color: var(--gold)!important; }
        .active-brute { border-color: var(--orange)!important; color: var(--orange)!important; }
        .active-social { border-color: var(--accent)!important; color: var(--accent)!important; }
        .box { border: 2px solid var(--gold); padding: 40px 20px; background: rgba(5, 5, 5, 0.9); text-align: center; width: 90%; max-width: 380px; position: relative; z-index: 2; }
        .hacker-status-reveal { font-weight: bold; font-size: 13px; text-align: center; margin: 10px 0; letter-spacing: 2px; }
        
        @keyframes spin { to { transform: rotate(360deg); } }
        .loader-spin { width: 40px; height: 40px; border: 4px solid #111; border-top-color: var(--gold); border-radius: 50%; animation: spin 1s infinite linear; margin-bottom: 20px; }
        
        .phone-error { border-color: var(--neon-red)!important; color: var(--neon-red)!important; animation: shake 0.4s; }
        .country-code-hint { color: var(--gold); font-size: 10px; margin-top: 5px; text-align: left; padding-left: 5px; }

        .persian-stats-container {
            font-family: 'Arial', 'Tahoma', sans-serif;
            font-size: 11px;
            color: var(--accent);
            text-align: right;
            direction: rtl;
            padding: 3px;
            line-height: 1.6;
            border-top: 1px solid #333;
            margin-top: 3px;
        }
        .persian-stats-container div {
            display: flex;
            justify-content: space-between;
            border-bottom: 1px dotted #222;
            padding: 2px 0;
        }
        .persian-label {
            color: var(--gold);
            margin-left: 5px;
        }
        .persian-value {
            color: #fff;
            font-weight: bold;
        }

        .graph-info {
            font-size: 10px;
            color: var(--orange);
            border-bottom: 1px dashed #333;
            margin-bottom: 4px;
            padding-bottom: 2px;
            animation: updateGlow 2s infinite;
        }
        @keyframes updateGlow {
            0% { color: var(--orange); }
            50% { color: #ffaa00; text-shadow: 0 0 3px orange; }
            100% { color: var(--orange); }
        }

        .target-info-panel {
            background: #0a0a0a;
            border: 1px solid var(--gold);
            padding: 8px;
            margin-bottom: 10px;
            font-size: 11px;
            color: #fff;
            position: relative;
            overflow: hidden;
            z-index: 20;
        }
        .target-info-panel::before {
            content: "üîç TARGET ACQUIRED";
            position: absolute;
            top: 0;
            right: 0;
            background: var(--gold);
            color: #000;
            padding: 2px 5px;
            font-size: 8px;
            font-weight: bold;
        }
        .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3px;
            margin-top: 5px;
        }
        .info-item {
            border-bottom: 1px dotted #333;
            padding: 1px 0;
        }
        .info-label {
            color: var(--gold);
            font-size: 7px;
            text-transform: uppercase;
        }
        .info-value {
            color: var(--accent);
            font-weight: bold;
            font-size: 9px;
        }
        
        #balance-display {
            color: var(--accent);
            font-weight: bold;
            letter-spacing: 1px;
        }
        
        #auth-msg {
            font-size: 10px;
            margin-top: 10px;
            color: var(--neon-red);
        }
    </style>
</head>
<body>

    <div id="hacker-intro">
        <div class="intro-brand" id="brand-container"></div>
        <div class="intro-iran" id="iran-container"></div>
        <button class="btn-proceed" id="start-btn" onclick="startAdvancedDecode()">Hack</button>
    </div>

    <div id="warning-screen">
        <div class="warning-box">
            <span class="skull-icon">‚ò†Ô∏è</span>
            <div class="warning-text">
                <p style="font-weight:bold; font-size: 18px;">‚ö†Ô∏è CRITICAL WARNING ‚ö†Ô∏è</p>
                <p>Ÿáÿ¥ÿØÿßÿ±: ÿß€åŸÜ ÿßÿ®ÿ≤ÿßÿ± ŸÅŸÇÿ∑ ÿ®ÿ±ÿß€å ŸÜŸÅŸàÿ∞ ÿßÿÆŸÑÿßŸÇ€å ÿßÿ≥ÿ™.</p>
                <p>USE AT YOUR OWN RISK. SYSTEM BYPASS IS ACTIVE.</p>
                <p>‚ò¢Ô∏è SECURITY PROTOCOLS DISABLED </p>
            </div>
            <button class="btn-warning" onclick="showPasswordScreen()">I UNDERSTAND / ŸÖÿ™Ÿàÿ¨Ÿá ÿ¥ÿØŸÖ</button>
        </div>
    </div>

    <div id="password-screen">
        <div class="pass-box" id="auth-box">
            <div style="color:var(--gold); margin-bottom:20px; font-size: 12px; letter-spacing: 3px;">ACCESS REQUIRED</div>
            <input type="text" id="db-user" class="pass-input" placeholder="USU√ÅRIO">
            <input type="password" id="db-pass" class="pass-input" placeholder="********">
            
            <div style="display: flex; gap: 10px;">
                <button class="btn-pass" onclick="authDB('login')" style="flex:1">LOGIN</button>
                <button class="btn-pass" onclick="authDB('cadastrar')" style="flex:1; border-color:var(--accent); color:var(--accent);">REGISTER</button>
            </div>
            <p id="auth-msg"></p>
        </div>
    </div>

    <div class="system-header">
        <div>SYS: <span style="color:#fff">H@B!B!_SUPABASE_V1</span></div>
        <div id="balance-display" style="display:none;"> $ 0,00</div>
        <div id="clock-display">00:00:00</div>
    </div>

    <canvas id="dataCanvas"></canvas>
    
    <div id="boot-loader" class="overlay">
        <canvas id="matrix-bg-login"></canvas>
        <div class="box" id="login-box">
            <div style="color:var(--gold); margin-bottom:25px; font-size: 1.4em; font-weight: bold;">ACCES BYPASS V7</div>
            <input type="tel" id="target-phone" style="background:#000; border:1px solid var(--gold); color:var(--gold); width:100%; padding:15px; margin-bottom:5px; text-align:center; box-sizing: border-box;" placeholder="+55 (00) 00000-0000">
            <div class="country-code-hint">‚ö†Ô∏è + Ÿà ⁄©ÿØ ⁄©ÿ¥Ÿàÿ± ÿßÿ¨ÿ®ÿßÿ±€å ÿßÿ≥ÿ™ / + and country code required</div>
            <button onclick="requestHighLevelAccess()" style="background:var(--gold); border:none; width:100%; padding:15px; margin-top:15px; font-weight:bold; cursor:pointer;">GRANT PRIVILEGES & START</button>
        </div>
        <div id="connecting-box" style="display:none; flex-direction:column; align-items:center; z-index: 2;">
            <div class="loader-spin"></div>
            <div style="color:var(--gold); font-size: 12px; letter-spacing: 2px; font-weight: bold;">CONNECTING TO TARGET...</div>
            <div id="connection-log" style="color:var(--accent); font-size: 10px; margin-top: 10px; max-width: 300px; text-align: center;"></div>
        </div>
    </div>

    <div class="container" id="mainContainer">
        <div class="header-area"><div class="static-title">H@B!B!</div></div>
        
        <!-- Painel de informa√ß√µes do alvo - FIXO NO TOPO -->
        <div id="target-info-panel" class="target-info-panel" style="display: none;"></div>
        
        <div class="top-monitor-row">
            <div class="monitor" id="data-mining-display">
                <div style="color:var(--accent); border-bottom: 1px solid #222; margin-bottom: 5px;">EXTRACTED_DATA / ÿßÿ≥ÿ™ÿÆÿ±ÿßÿ¨ ÿØÿßÿØŸá‚ÄåŸáÿß:</div>
                <div id="mining-content">
                    <div class="graph-info">CPU: <span id="cpu-usage">45%</span> | RAM: <span id="ram-usage">62%</span></div>
                    <div class="graph-info">GK3: <span id="online-users">1,247</span> | TEMP: <span id="cpu-temp">58¬∞C</span></div>
                    <div class="graph-info">PACK: <span id="packets">2.4K/s</span> | LATENCY: <span id="latency">42ms</span></div>
                    
                    <div id="persian-stats-top" class="persian-stats-container"></div>
                </div>
            </div>
            <div class="monitor" style="display:flex; align-items:center; justify-content:center; overflow-y: auto; flex-wrap: wrap;">
                <div id="decrypt-monitor" style="color:var(--accent); font-size:11px; font-weight: bold; word-break: break-all; padding: 5px;"></div>
            </div>
        </div>
        <div id="msg-feed-container">
            <div id="msg-feed" style="display: flex; flex-direction: column;"></div>
        </div>
        <div class="terminal-block" id="term-log"></div>
        <div class="command-grid">
            <button id="btn-xss" class="btn-tool active-xss" onclick="runTask('xss')">XSS INJECT</button>
            <button id="btn-sql" class="btn-tool" onclick="runTask('sql')">SQL DUMP</button>
            <button id="btn-brute" class="btn-tool" onclick="runTask('brute')">BRUTE FORCE</button>
            <button id="btn-social" class="btn-tool" onclick="runTask('social')" disabled>SOCIAL SNIFF</button>
        </div>
    </div>

    <script>
    // ============================================
    // CONFIGURA√á√ÉO SUPABASE
    // ============================================
    const SUPABASE_URL = 'https://sevpfgudghiepzslvxrj.supabase.co';
    const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNldnBmZ3VkZ2hpZXB6c2x2eHJqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzc2MDE5MDAsImV4cCI6MjA1MzE3NzkwMH0.0jUvWQ5F6Xk9hQ5F6Xk9hQ5F6Xk9hQ5F6Xk9hQ5F6Xk9hQ';
    
    const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

    // ============================================
    // VARI√ÅVEIS GLOBAIS
    // ============================================
    let userBalance = 0;
    let currentUser = null;
    let isProcessing = false;
    let cryptoRate = 0.15;
    let errorPlan = [];
    let targetData = null;
    
    let xssCompleted = false;
    let sqlCompleted = false;
    let bruteCompleted = false;
    
    let xssStepsCompleted = 0;
    let sqlStepsCompleted = 0;
    let bruteStepsCompleted = 0;
    const xssTotalSteps = 3;
    const sqlTotalSteps = 5;
    const bruteTotalSteps = 8;

    // ============================================
    // FUN√á√ïES DE AUTENTICA√á√ÉO SUPABASE (sem criptografia)
    // ============================================
    async function authDB(tipo) {
        const user = document.getElementById('db-user').value;
        const pass = document.getElementById('db-pass').value;
        const msg = document.getElementById('auth-msg');

        if(!user || !pass) {
            msg.innerText = "PREENCHA TODOS OS CAMPOS";
            return;
        }

        try {
            if (tipo === 'cadastrar') {
                // Verifica se usu√°rio j√° existe
                const { data: existing } = await supabase
                    .from('usuarios')
                    .select('*')
                    .eq('usuario', user);
                
                if (existing && existing.length > 0) {
                    msg.innerText = "USU√ÅRIO J√Å EXISTE";
                    return;
                }
                
                // Cadastra novo usu√°rio (sem criptografia)
                const { error } = await supabase
                    .from('usuarios')
                    .insert([
                        { 
                            usuario: user, 
                            senha: pass,
                            saldo: 100.00,
                            created_at: new Date().toISOString()
                        }
                    ]);
                
                if (error) {
                    msg.innerText = "ERRO NO CADASTRO";
                } else {
                    msg.style.color = "var(--accent)";
                    msg.innerText = "CADASTRADO! FA√áA LOGIN.";
                }
            } else {
                // Login - verifica usu√°rio e senha
                const { data, error } = await supabase
                    .from('usuarios')
                    .select('*')
                    .eq('usuario', user)
                    .eq('senha', pass);
                
                if (error) {
                    msg.innerText = "ERRO NO LOGIN";
                } else if (data && data.length > 0) {
                    currentUser = data[0];
                    userBalance = parseFloat(currentUser.saldo);
                    localStorage.setItem('logado', 'true');
                    localStorage.setItem('usuario', user);
                    
                    document.getElementById('balance-display').style.display = 'block';
                    document.getElementById('balance-display').innerText = `$ ${userBalance.toFixed(2)}`;
                    
                    document.getElementById('password-screen').style.opacity = '0';
                    setTimeout(() => {
                        document.getElementById('password-screen').style.display = 'none';
                        showLoginScreen();
                    }, 500);
                } else {
                    msg.innerText = "USU√ÅRIO OU SENHA INV√ÅLIDOS";
                    document.getElementById('auth-box').classList.add('pass-error');
                    setTimeout(() => document.getElementById('auth-box').classList.remove('pass-error'), 400);
                }
            }
        } catch (e) {
            console.error(e);
            msg.innerText = "ERRO NO SISTEMA";
        }
    }

    async function updateBalanceDisplay() {
        if (!currentUser) return;
        
        try {
            const { data, error } = await supabase
                .from('usuarios')
                .select('saldo')
                .eq('usuario', currentUser.usuario);
            
            if (data && data.length > 0) {
                userBalance = parseFloat(data[0].saldo);
                document.getElementById('balance-display').innerText = `$ ${userBalance.toFixed(2)}`;
            }
        } catch (e) {
            console.error(e);
        }
    }

    async function pagarSocial() {
        if (!currentUser) return { status: 'error', msg: 'N√£o logado' };
        
        if (userBalance < 20) {
            return { status: 'error', msg: 'Saldo insuficiente' };
        }
        
        try {
            const novoSaldo = userBalance - 20;
            
            const { error } = await supabase
                .from('usuarios')
                .update({ saldo: novoSaldo })
                .eq('usuario', currentUser.usuario);
            
            if (error) {
                return { status: 'error', msg: 'Erro no pagamento' };
            }
            
            userBalance = novoSaldo;
            document.getElementById('balance-display').innerText = `$ ${userBalance.toFixed(2)}`;
            
            return { status: 'success' };
        } catch (e) {
            console.error(e);
            return { status: 'error', msg: 'Erro no sistema' };
        }
    }

    // ============================================
    // FUN√á√ïES DE CONSULTA DE N√öMERO (REALISTAS)
    // ============================================
    
    // Base de dados de nomes brasileiros realistas
    const nomesBrasileiros = [
        "Carlos Eduardo Silva", "Ana Paula Oliveira", "Jo√£o Pedro Santos", "Maria Clara Ferreira",
        "Pedro Henrique Costa", "Juliana Cristina Lima", "Roberto Carlos Alves", "Camila Souza Lima",
        "Fernando Oliveira Pereira", "Patr√≠cia Rodrigues Santos", "Lucas Gabriel Martins", "Beatriz Almeida Costa",
        "Rafael Augusto Fernandes", "Amanda Carolina Ribeiro", "Gustavo Henrique Gomes", "Larissa Fernandes Silva",
        "Marcelo Ant√¥nio Cardoso", "Fernanda Cristina Rocha", "Leonardo Jos√© Mendes", "Vanessa Cristina Barros",
        "Thiago Henrique Barbosa", "Aline Pereira Souza", "Rodrigo C√©sar Ara√∫jo", "Tatiane Cristina Monteiro",
        "Andr√© Luiz Cavalcanti", "Carla Daniela Vieira", "Bruno C√©sar Correia", "Luciana Maria Dias",
        "Eduardo Henrique Nunes", "Priscila Fernanda Ramos", "Ricardo Oliveira Santos", "Fernanda Lima Costa"
    ];

    // Base de operadoras brasileiras
    const operadoras = [
        { nome: "VIVO", codigos: [11, 12, 13, 14, 15, 16, 17, 18, 19, 21, 22, 24, 27, 28] },
        { nome: "TIM", codigos: [11, 12, 13, 14, 15, 16, 17, 18, 19, 21, 22, 24, 27, 28, 31, 32, 33, 34, 35, 37, 38, 41, 42, 43, 44, 45, 46, 47, 48, 49, 51, 53, 54, 55, 61, 62, 63, 64, 65, 66, 67, 68, 69, 71, 73, 74, 75, 77, 79, 81, 82, 83, 84, 85, 86, 87, 88, 89, 91, 92, 93, 94, 95, 96, 97, 98, 99] },
        { nome: "CLARO", codigos: [11, 12, 13, 14, 15, 16, 17, 18, 19, 21, 22, 24, 27, 28, 31, 32, 33, 34, 35, 37, 38, 41, 42, 43, 44, 45, 46, 47, 48, 49, 51, 53, 54, 55, 61, 62, 63, 64, 65, 66, 67, 68, 69, 71, 73, 74, 75, 77, 79, 81, 82, 83, 84, 85, 86, 87, 88, 89, 91, 92, 93, 94, 95, 96, 97, 98, 99] },
        { nome: "OI", codigos: [11, 21, 22, 24, 27, 28, 31, 32, 33, 34, 35, 37, 38, 41, 42, 43, 44, 45, 46, 47, 48, 49, 51, 53, 54, 55, 61, 62, 63, 64, 65, 66, 67, 68, 69, 71, 73, 74, 75, 77, 79, 81, 82, 83, 84, 85, 86, 87, 88, 89, 91, 92, 93, 94, 95, 96, 97, 98, 99] },
        { nome: "NEXTEL", codigos: [11, 21, 31, 41, 51, 61, 71, 81, 91] },
        { nome: "ALGAR", codigos: [34, 35, 37, 38, 31] }
    ];

    // Cidades e estados brasileiros
    const cidadesBrasil = [
        { nome: "S√£o Paulo", estado: "SP", regiao: "Sudeste", ddd: 11 },
        { nome: "Rio de Janeiro", estado: "RJ", regiao: "Sudeste", ddd: 21 },
        { nome: "Belo Horizonte", estado: "MG", regiao: "Sudeste", ddd: 31 },
        { nome: "Bras√≠lia", estado: "DF", regiao: "Centro-Oeste", ddd: 61 },
        { nome: "Salvador", estado: "BA", regiao: "Nordeste", ddd: 71 },
        { nome: "Fortaleza", estado: "CE", regiao: "Nordeste", ddd: 85 },
        { nome: "Curitiba", estado: "PR", regiao: "Sul", ddd: 41 },
        { nome: "Manaus", estado: "AM", regiao: "Norte", ddd: 92 },
        { nome: "Recife", estado: "PE", regiao: "Nordeste", ddd: 81 },
        { nome: "Porto Alegre", estado: "RS", regiao: "Sul", ddd: 51 }
    ];

    // Planos de telefone
    const planosTelefone = [
        "Pr√©-pago", "P√≥s-pago", "Controle", "Fam√≠lia", "Empresarial", "Universit√°rio"
    ];

    // Profiss√µes
    const profissoes = [
        "Engenheiro Civil", "M√©dico", "Professor", "Advogado", "Analista de Sistemas",
        "Administrador", "Contador", "Arquiteto", "Dentista", "Enfermeiro",
        "Vendedor", "Motorista", "Comerciante", "Empres√°rio", "Funcion√°rio P√∫blico",
        "Estudante", "Aposentado", "Desenvolvedor", "Designer", "Jornalista"
    ];

    function extrairDDD(telefone) {
        const match = telefone.match(/\+55(\d{2})/);
        return match ? parseInt(match[1]) : null;
    }

    function determinarOperadora(ddd) {
        const operadorasPossiveis = operadoras.filter(op => op.codigos.includes(ddd));
        if (operadorasPossiveis.length > 0) {
            return operadorasPossiveis[Math.floor(Math.random() * operadorasPossiveis.length)].nome;
        }
        return operadoras[Math.floor(Math.random() * operadoras.length)].nome;
    }

    function determinarCidade(ddd) {
        const cidade = cidadesBrasil.find(c => c.ddd === ddd);
        return cidade || cidadesBrasil[Math.floor(Math.random() * cidadesBrasil.length)];
    }

    function gerarCPFFake() {
        const n = () => Math.floor(Math.random() * 10);
        return `${n()}${n()}${n()}.${n()}${n()}${n()}.${n()}${n()}${n()}-${n()}${n()}`;
    }

    async function consultarDadosNumero(telefone) {
        const cacheKey = `numero_${telefone}`;
        const cache = localStorage.getItem(cacheKey);
        
        if (cache) {
            const cachedData = JSON.parse(cache);
            if (Date.now() - cachedData.timestamp < 3600000) {
                return cachedData.data;
            }
        }

        const ddd = extrairDDD(telefone);
        if (!ddd) throw new Error("N√∫mero inv√°lido");

        const cidade = determinarCidade(ddd);
        const operadora = determinarOperadora(ddd);
        const nome = nomesBrasileiros[Math.floor(Math.random() * nomesBrasileiros.length)];
        const idade = Math.floor(Math.random() * 42) + 18;
        
        const ano = new Date().getFullYear() - idade;
        const mes = Math.floor(Math.random() * 12) + 1;
        const dia = Math.floor(Math.random() * 28) + 1;
        const dataNascimento = `${dia.toString().padStart(2, '0')}/${mes.toString().padStart(2, '0')}/${ano}`;
        
        const profissao = profissoes[Math.floor(Math.random() * profissoes.length)];
        const scoreCredito = Math.floor(Math.random() * 600) + 400;
        const statusCPF = Math.random() > 0.2 ? "Regular" : "Pendente";
        
        const redesSociais = {
            whatsapp: Math.random() > 0.1,
            instagram: Math.random() > 0.3 ? "@" + nome.toLowerCase().replace(/\s/g, "").substring(0, 10) : null,
            facebook: Math.random() > 0.4,
            telegram: Math.random() > 0.5
        };
        
        const bancos = [];
        const bancosPossiveis = ["Nubank", "Ita√∫", "Bradesco", "Santander", "Banco do Brasil", "Caixa", "Inter"];
        const numBancos = Math.floor(Math.random() * 3) + 1;
        
        for (let i = 0; i < numBancos; i++) {
            const banco = bancosPossiveis[Math.floor(Math.random() * bancosPossiveis.length)];
            if (!bancos.includes(banco)) bancos.push(banco);
        }
        
        const emailDomains = ["gmail.com", "hotmail.com", "outlook.com", "yahoo.com.br"];
        const emailLocal = nome.toLowerCase().replace(/\s/g, ".").normalize("NFD").replace(/[^a-zA-Z0-9.]/g, "");
        const email = `${emailLocal}@${emailDomains[Math.floor(Math.random() * emailDomains.length)]}`;
        
        const ultimasCompras = [];
        const comprasPossiveis = [
            "Mercado Livre - R$ 89,90", "iFood - R$ 42,50", "Amazon - R$ 129,90", "Uber - R$ 23,40",
            "Netflix - R$ 39,90", "Spotify - R$ 19,90", "Magazine Luiza - R$ 599,00"
        ];
        
        for (let i = 0; i < 5; i++) {
            const diasAtras = Math.floor(Math.random() * 30) + 1;
            const dataCompra = new Date(Date.now() - diasAtras * 86400000);
            ultimasCompras.push({
                data: dataCompra.toLocaleDateString('pt-BR'),
                descricao: comprasPossiveis[Math.floor(Math.random() * comprasPossiveis.length)]
            });
        }
        
        const dadosCompletos = {
            telefone: telefone,
            ddd: ddd,
            nome: nome,
            idade: idade,
            dataNascimento: dataNascimento,
            genero: Math.random() > 0.5 ? "Masculino" : "Feminino",
            cpf: gerarCPFFake(),
            email: email,
            operadora: operadora,
            plano: planosTelefone[Math.floor(Math.random() * planosTelefone.length)],
            cidade: cidade.nome,
            estado: cidade.estado,
            profissao: profissao,
            scoreCredito: scoreCredito,
            statusCPF: statusCPF,
            bancos: bancos,
            redesSociais: redesSociais,
            ultimasCompras: ultimasCompras
        };
        
        localStorage.setItem(cacheKey, JSON.stringify({
            data: dadosCompletos,
            timestamp: Date.now()
        }));
        
        return dadosCompletos;
    }

    // ============================================
    // FUN√á√ïES DE INTERFACE
    // ============================================
    const fav = document.getElementById('favicon');
    const icons = ["‚è≥", "‚åõ"];
    let iFav = 0;
    setInterval(() => {
        iFav = (iFav + 1) % icons.length;
        fav.href = `data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>${icons[iFav]}</text></svg>`;
    }, 1000);

    const brandStr = "BREAKTOOLS";
    const iranStr = "ÿ¥⁄©ÿ≥ÿ™ŸÜ ÿßÿ®ÿ≤ÿßÿ±";
    const brandCont = document.getElementById('brand-container');
    const iranCont = document.getElementById('iran-container');

    function prepareText(str, container) {
        str.split('').forEach(char => {
            const span = document.createElement('span');
            span.innerText = char;
            container.appendChild(span);
        });
    }
    prepareText(brandStr, brandCont);
    prepareText(iranStr, iranCont);

    function startAdvancedDecode() {
        const btn = document.getElementById('start-btn');
        btn.disabled = true;
        const chars = "€∞€±€≤€≥€¥€µ€∂€∑€∏€π!@#$%&*?";
        const totalDuration = 3500;
        const startTime = Date.now();
        const decode = setInterval(() => {
            const elapsed = Date.now() - startTime;
            const progress = elapsed / totalDuration;
            brandCont.querySelectorAll('span').forEach((span, i) => {
                if (progress > (i / 10)) { 
                    span.innerText = brandStr[i]; 
                    span.className = "decoded"; 
                    span.style.color = "var(--gold)"; 
                } else { 
                    span.innerText = chars[Math.floor(Math.random() * chars.length)]; 
                }
            });
            iranCont.querySelectorAll('span').forEach((span, i) => {
                if (progress > (i / 10)) { 
                    span.innerText = iranStr[i]; 
                    span.className = "decoded"; 
                    span.style.color = "var(--gold)"; 
                } else { 
                    span.innerText = chars[Math.floor(Math.random() * chars.length)]; 
                }
            });
            if (elapsed >= totalDuration) {
                clearInterval(decode);
                setTimeout(() => {
                    document.getElementById('hacker-intro').style.display = 'none';
                    document.getElementById('warning-screen').style.display = 'flex';
                }, 500);
            }
        }, 50);
    }

    function showPasswordScreen() {
        document.getElementById('warning-screen').style.opacity = '0';
        setTimeout(() => {
            document.getElementById('warning-screen').style.display = 'none';
            document.getElementById('password-screen').style.display = 'flex';
        }, 500);
    }

    function showLoginScreen() {
        document.getElementById('boot-loader').style.display = 'flex';
        initMatrixLogin();
        const phoneInput = document.getElementById('target-phone');
        phoneInput.style.transform = 'scale(0.95)';
        phoneInput.style.transition = 'all 0.5s ease';
        setTimeout(() => {
            phoneInput.style.transform = 'scale(1)';
            phoneInput.style.boxShadow = '0 0 20px var(--gold)';
        }, 100);
        setTimeout(() => phoneInput.style.boxShadow = 'none', 600);
    }

    function setupSessionPlan() {
        const rng = Math.random() * 100;
        let numErrors = 0;
        
        if (rng <= 30) {
            numErrors = 0;
        } else if (rng <= 65) {
            numErrors = Math.floor(Math.random() * 2) + 1;
        } else if (rng <= 85) {
            numErrors = Math.floor(Math.random() * 2) + 3;
        } else {
            numErrors = Math.floor(Math.random() * 4) + 5;
        }
        
        errorPlan = new Array(16).fill(false);
        let placed = 0;
        while(placed < numErrors) {
            let idx = Math.floor(Math.random() * 16);
            if(!errorPlan[idx]) { errorPlan[idx] = true; placed++; }
        }
    }

    function getCryptoRateFromErrors() {
        const errors = errorPlan.filter(e => e).length;
        if (errors === 0) return 0.18;
        if (errors <= 2) return 0.23;
        if (errors <= 4) return 0.30;
        return 0.40;
    }

    // Fun√ß√£o para mostrar informa√ß√µes do alvo (ATUALIZADA)
    function mostrarInfoAlvo(dados) {
        const panel = document.getElementById('target-info-panel');
        
        let redesHtml = '';
        for (const [rede, ativo] of Object.entries(dados.redesSociais)) {
            if (ativo && typeof ativo === 'string') {
                redesHtml += `<span style="color:var(--accent); margin-right:5px;">${rede}: ${ativo}</span>`;
            } else if (ativo === true) {
                redesHtml += `<span style="color:var(--accent); margin-right:5px;">${rede}: ‚úì</span>`;
            }
        }
        
        let bancosHtml = dados.bancos.map(b => `<span style="color:var(--gold);">${b}</span>`).join(', ');
        
        panel.innerHTML = `
            <div style="color:var(--gold); font-size:12px; margin-bottom:5px;">üéØ ALVO: ${dados.nome}</div>
            <div class="info-grid">
                <div class="info-item">
                    <span class="info-label">üì± TELEFONE</span>
                    <span class="info-value">${dados.telefone}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">üìû OPERADORA</span>
                    <span class="info-value">${dados.operadora} (${dados.plano})</span>
                </div>
                <div class="info-item">
                    <span class="info-label">üìç LOCALIZA√á√ÉO</span>
                    <span class="info-value">${dados.cidade}/${dados.estado}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">üìß EMAIL</span>
                    <span class="info-value">${dados.email}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">üÜî CPF</span>
                    <span class="info-value">${dados.cpf}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">üìä SCORE</span>
                    <span class="info-value">${dados.scoreCredito}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">üè¶ BANCOS</span>
                    <span class="info-value">${bancosHtml}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">üë§ IDADE</span>
                    <span class="info-value">${dados.idade} anos</span>
                </div>
            </div>
            <div style="margin-top:5px; font-size:8px; color:#666; border-top:1px solid #333; padding-top:3px;">
                üåê REDES: ${redesHtml}
            </div>
        `;
        
        panel.style.display = 'block';
    }

    async function requestHighLevelAccess() {
        const phoneInput = document.getElementById('target-phone');
        const phoneValue = phoneInput.value.trim();
        const connectionLog = document.getElementById('connection-log');
        
        if(!phoneValue.startsWith('+') || phoneValue.length < 8) {
            phoneInput.classList.add('phone-error');
            setTimeout(() => phoneInput.classList.remove('phone-error'), 400);
            return;
        }
        
        setupSessionPlan();
        cryptoRate = getCryptoRateFromErrors();
        
        document.getElementById('login-box').style.opacity = '0';
        setTimeout(() => {
            document.getElementById('login-box').style.display = 'none';
            document.getElementById('connecting-box').style.display = 'flex';
        }, 300);
        
        const etapas = [
            "üîç Consultando ANATEL...",
            "üì° Acessando base SERASA...",
            "üîê Bypass de seguran√ßa...",
            "üìä Extraindo dados..."
        ];
        
        for (let i = 0; i < etapas.length; i++) {
            connectionLog.innerText = etapas[i];
            await new Promise(r => setTimeout(r, 800));
        }
        
        try {
            targetData = await consultarDadosNumero(phoneValue);
            connectionLog.innerText = "‚úÖ DADOS OBTIDOS!";
            
            const log = document.getElementById('term-log');
            const infoDiv = document.createElement('div');
            infoDiv.className = 'log-g';
            infoDiv.innerHTML = `
                > [ANATEL] N√∫mero: ${targetData.telefone}<br>
                > [RECEITA] Titular: ${targetData.nome} (${targetData.idade})<br>
                > [CPF] ${targetData.cpf}<br>
                > [SERASA] Score: ${targetData.scoreCredito}<br>
                > [OPERADORA] ${targetData.operadora}<br>
                > [LOCAL] ${targetData.cidade}/${targetData.estado}
            `;
            log.prepend(infoDiv);
            
        } catch (error) {
            connectionLog.innerText = "‚ùå ERRO NA CONSULTA";
        }
        
        setTimeout(() => {
            document.getElementById('boot-loader').style.display = 'none';
            document.getElementById('mainContainer').style.display = 'flex';
            
            if (targetData) {
                mostrarInfoAlvo(targetData);
            }
            
            extractDeviceData();
            initFX();
            initDecryptMonitor();
            initPersianStatsTop();
            initGraphData();
            
            xssStepsCompleted = 0;
            sqlStepsCompleted = 0;
            bruteStepsCompleted = 0;
            xssCompleted = false;
            sqlCompleted = false;
            bruteCompleted = false;
        }, 1000);
    }

    function checkAndEnableSocial() {
        if(xssCompleted && sqlCompleted && bruteCompleted) {
            document.getElementById('btn-social').disabled = false;
            document.getElementById('btn-social').classList.add('active-social');
        }
    }

    function hackerStatusReveal(finalMsg, isError = false) {
        const feed = document.getElementById('msg-feed');
        const msgDiv = document.createElement('div');
        msgDiv.className = 'hacker-status-reveal';
        msgDiv.style.color = isError ? "var(--neon-red)" : "var(--accent)";
        msgDiv.innerText = finalMsg + (isError ? " ‚ùå" : " ‚úÖ");
        feed.appendChild(msgDiv);
        document.getElementById('msg-feed-container').scrollTop = 99999;
        setTimeout(() => msgDiv.remove(), 2000);
    }

    async function runTask(type) {
        if(isProcessing) return;
        
        if(type === 'social') {
            executeSocialAPI();
            return;
        }
        
        isProcessing = true;
        const log = document.getElementById('term-log');
        let phases = [];
        
        if(type === 'xss') {
            phases = [
                {l: "XSS_CORE", t: 3}, 
                {l: "XSS_BUFFER", t: 3}, 
                {l: "XSS_FINAL", t: 3}
            ];
        } else if(type === 'sql') {
            phases = [
                {l: "SQL_TABLES", t: 3}, 
                {l: "SQL_SCHEMAS", t: 3}, 
                {l: "SQL_HASHES", t: 3}, 
                {l: "SQL_INJECT", t: 3}, 
                {l: "SQL_SYNC", t: 3}
            ];
        } else if(type === 'brute') {
            phases = [
                {l: "BRUTE_INIT", t: 2},
                {l: "BRUTE_PHASE1", t: 2},
                {l: "BRUTE_PHASE2", t: 2},
                {l: "BRUTE_PHASE3", t: 2},
                {l: "BRUTE_PHASE4", t: 2},
                {l: "BRUTE_PHASE5", t: 2},
                {l: "BRUTE_PHASE6", t: 2},
                {l: "BRUTE_PHASE7", t: 2},
                {l: "BRUTE_FINAL", t: 2}
            ];
        }

        let offset = type === 'xss' ? 0 : (type === 'sql' ? 3 : 8);
        
        for(let i = 0; i < phases.length; i++) {
            let p = phases[i];
            let div = document.createElement('div'); 
            if(type === 'brute') div.className = "log-b"; else div.className = "log-g";
            log.prepend(div);
            
            await new Promise(r => {
                let start = Date.now();
                let itv = setInterval(() => {
                    let prog = Math.min(100, Math.floor(((Date.now() - start) / (p.t*1000)) * 100));
                    div.innerText = `> ${p.l}: [${prog}%]`;
                    if(prog >= 100) {
                        clearInterval(itv);
                        const isFail = errorPlan[offset + i] || false;
                        if(isFail) div.className = "log-r";
                        hackerStatusReveal(p.l, isFail);
                        
                        if(!isFail) {
                            if(type === 'xss') xssStepsCompleted++;
                            else if(type === 'sql') sqlStepsCompleted++;
                            else if(type === 'brute') bruteStepsCompleted++;
                        }
                        
                        r();
                    }
                }, 50);
            });
        }
        
        // Logs simulados
        const fallbackLogs = [
            "ÿØÿ± ÿ≠ÿßŸÑ ŸÜŸÅŸàÿ∞ ÿ®Ÿá ÿ≥€åÿ≥ÿ™ŸÖ...",
            "ÿØÿ≥ÿ™ÿ±ÿ≥€å ÿ®Ÿá Ÿæÿß€å⁄ØÿßŸá ÿØÿßÿØŸá...",
            "ÿ¥⁄©ÿ≥ÿ™ŸÜ ÿ±ŸÖÿ≤⁄Øÿ∞ÿßÿ±€å...",
            "ÿßÿ≥ÿ™ÿÆÿ±ÿßÿ¨ ÿßÿ∑ŸÑÿßÿπÿßÿ™..."
        ];
        
        fallbackLogs.forEach((t, i) => {
            setTimeout(() => {
                let d = document.createElement('div'); d.className = "log-y";
                d.innerText = `[LOG] > ${t}`;
                document.getElementById('term-log').prepend(d);
                if(i === fallbackLogs.length - 1) { 
                    isProcessing = false; 
                    finalizeTask(type); 
                }
            }, i * 200);
        });
    }

    function finalizeTask(type) {
        document.getElementById(`btn-${type}`).disabled = true;
        if(type === 'xss') { 
            xssCompleted = true; 
            document.getElementById('btn-sql').classList.add('active-sql'); 
        }
        if(type === 'sql') { 
            sqlCompleted = true; 
            document.getElementById('btn-brute').classList.add('active-brute'); 
        }
        if(type === 'brute') { 
            bruteCompleted = true; 
            checkAndEnableSocial(); 
        }
    }

    // LISTA DE MENSAGENS
    const todasMensagens = [
        "TIM: Seu cart√£o foi aprovado!",
        "passa aqui em casa hoje",
        "oieeeüëÄ",
        "PicPay: Cr√©dito aprovado.",
        "TIM: Oferta exclusiva!",
        "ok",
        "VIVO: Internet ilimitada",
        "liga pra mim pf",
        "Superbet: 200 giros gratis pra voc√™!",
        "Avisa quando chegar",
        "Mano, conseguiu terminar?",
        "t√° acordado ainda?",
        "Lucas enviou uma foto.",
        "Oi, tem uma encomenda pra voc√™.",
        "V√≥ enviou um v√≠deo",
        "J√©ssica: liga pra mim pf",
        "Sua fatura vence em 2 dias",
        "Compra aprovada: R$ 42,90",
        "Voc√™ ganhou um cupom",
        "O jogo do seu time come√ßa em 1h",
        "Seu c√≥digo √© 482-901",
        "Ainda est√° dispon√≠vel?",
        "B√îNUS: 100% no dep√≥sito!",
        "Oi, tudo bem?",
        "Uber: Motorista chegando",
        "Loggi: Pedido saiu pra entrega",
        "Netflix: Assinatura suspensa",
        "manda o pix de novo",
        "kkkkkkkkkkkkk",
        "Onde voc√™ t√°??",
        "TIM: Franquia de dados esgotada",
        "Login suspeito na sua conta",
        "saudades do que a gente ainda n√£o viveu",
        "Promo√ß√£o: Pizza em dobro",
        "Pedido no Mercado Livre entregue",
        "Boleto em atraso",
        "Oi m√£e, perdi meu celular",
        "Ganhe dinheiro assistindo v√≠deos!",
        "Encomenda da China chegou",
        "Algu√©m pode cobrir o turno?",
        "Me manda o relat√≥rio",
        "15 pessoas viram seu perfil",
        "Nova men√ß√£o em #projetos",
        "Alerta de seguran√ßa",
        "Sua conta ser√° suspensa",
        "Recupere sua senha: 99821",
        "J√° saiu de casa?",
        "T√¥ passando a√≠ em 10 min",
        "Assinatura renovada",
        "Compra recusada",
        "Use o c√≥digo 'BEMVINDO'",
        "Sextou! Promo√ß√µes de bebidas",
        "Pre√ßo do produto caiu!",
        "√öltimas unidades!",
        "B√¥nus de internet de 2GB",
        "Vi seu an√∫ncio no Facebook",
        "Aceita troca por um PS4?",
        "Faz por 200 reais",
        "Entrega deixada com vizinho",
        "Sua senha expira em 24h",
        "Bem-vindo ao programa",
        "VIVO: Recarga aprovada!",
        "Oi: WhatsApp livre",
        "TIM: Indique e ganhe!",
        "Claro: Boleto gerado",
        "Di√°rio do aluno liberado",
        "Boleto pago!",
        "Pagamento recebido",
        "NuBank: Empr√©stimo na hora",
        "Inter: Rendimento 102% do CDI",
        "PicPay: Carteira digital",
        "BB: Credi√°rio pr√©-aprovado",
        "Caixa: Saque FGTS liberado!",
        "Bradesco: Cart√£o bloqueado?",
        "Ita√∫: Financiamento",
        "Santander: Pontos dobrados",
        "Pix de R$ 25,00 recebido",
        "Chave Pix cadastrada",
        "Transfer√™ncia agendada",
        "Extrato dispon√≠vel",
        "Fatura em aberto",
        "Limite especial: R$ 200",
        "Cheque especial: 50% usado",
        "Compra no cr√©dito: R$ 89,90",
        "Cart√£o virtual gerado",
        "Compra internacional",
        "Pix bloqueado por seguran√ßa",
        "Confirme a portabilidade",
        "VIVO: Internet 5G dispon√≠vel",
        "Claro: Seu chip chegou",
        "TIM: 10GB no fim de semana",
        "Oi: Plano fam√≠lia 50% off",
        "Promo√ß√£o: Smartphone",
        "Recarregue e ganhe cashback",
        "Conta creditada em R$ 50",
        "Pacote de dados acabando",
        "1GB pra usar hoje!",
        "B√¥nus de anivers√°rio",
        "M√™s gr√°tis no streaming"
    ];

    async function executeSocialAPI() {
        if(isProcessing) return;
        isProcessing = true;

        if (userBalance < 20) {
            const log = document.getElementById('term-log');
            const erroDiv = document.createElement('div');
            erroDiv.className = 'log-r';
            erroDiv.innerText = '> ‚ùå Saldo insuficiente - $20,00';
            log.prepend(erroDiv);
            isProcessing = false;
            return;
        }

        const result = await pagarSocial();

        if(result && result.status === 'success') {
            await updateBalanceDisplay();
            
            const log = document.getElementById('term-log');
            const socialDiv = document.createElement('div');
            socialDiv.className = 'log-y';
            socialDiv.innerHTML = `
                > [SOCIAL] Iniciando coleta...<br>
                > [WHATSAPP] Mensagens recuperadas<br>
                > [INSTAGRAM] Acessando stories<br>
                > [FACEBOOK] Extraindo timeline
            `;
            log.prepend(socialDiv);
            
            const mensagensSelecionadas = [];
            const indicesUsados = new Set();
            
            while (mensagensSelecionadas.length < 8) {
                const indice = Math.floor(Math.random() * todasMensagens.length);
                if (!indicesUsados.has(indice)) {
                    indicesUsados.add(indice);
                    mensagensSelecionadas.push(todasMensagens[indice]);
                }
            }
            
            mensagensSelecionadas.forEach((t, i) => {
                setTimeout(() => { 
                    renderMessage(t); 
                    if(i === mensagensSelecionadas.length - 1) {
                        isProcessing = false;
                        
                        // Atualiza o painel de informa√ß√µes do alvo (n√£o some)
                        if (targetData) {
                            mostrarInfoAlvo(targetData);
                        }
                    }
                }, i * 1000);
            });
        } else { 
            const log = document.getElementById('term-log');
            const erroDiv = document.createElement('div');
            erroDiv.className = 'log-r';
            erroDiv.innerText = '> ‚ùå Erro no pagamento';
            log.prepend(erroDiv);
            isProcessing = false; 
        }
    }

    function renderMessage(txt) {
        const b = document.createElement('div'); b.className = 'msg-block';
        const syms = "$#!@%&*?";
        const cryptTxt = txt.split('').map(char => (char !== " " && Math.random() < cryptoRate) ? syms[Math.floor(Math.random()*syms.length)] : char).join('');
        b.innerHTML = `<div class="msg-text">${cryptTxt}</div><div class="msg-time">${new Date().toLocaleTimeString('pt-BR')}</div>`;
        document.getElementById('msg-feed').appendChild(b);
        document.getElementById('msg-feed-container').scrollTop = 99999;
        
        // Garante que o painel de informa√ß√µes permane√ßa vis√≠vel
        if (targetData) {
            const panel = document.getElementById('target-info-panel');
            panel.style.display = 'block';
        }
    }

    function initMatrixLogin() {
        const c = document.getElementById('matrix-bg-login');
        if (!c) return;
        const ctx = c.getContext('2d');
        c.width = window.innerWidth; c.height = window.innerHeight;
        const drops = Array(Math.floor(c.width/14)).fill(1);
        setInterval(() => {
            ctx.fillStyle = "rgba(0, 0, 0, 0.05)"; ctx.fillRect(0, 0, c.width, c.height);
            ctx.fillStyle = "#FFD700";
            drops.forEach((y, i) => {
                ctx.fillText("€∞€±€≤€≥€¥€µ€∂€∑€∏€π"[Math.floor(Math.random()*10)], i*14, y*14);
                if(y*14 > c.height && Math.random() > 0.975) drops[i] = 0; drops[i]++;
            });
        }, 33);
    }

    function extractDeviceData() {
        const phoneValue = document.getElementById('target-phone').value;
        
        let targetHtml = '';
        if (targetData) {
            targetHtml = `
                <div>TARGET: ${targetData.nome}</div>
                <div>OPERADORA: ${targetData.operadora}</div>
                <div>CIDADE: ${targetData.cidade}</div>
                <div>SCORE: ${targetData.scoreCredito}</div>
            `;
        } else {
            targetHtml = `<div>TARGET: ${phoneValue}</div>`;
        }
        
        document.getElementById('mining-content').innerHTML = `
            <div class="graph-info">CPU: <span id="cpu-usage">45%</span> | RAM: <span id="ram-usage">62%</span></div>
            <div class="graph-info">USU√ÅRIOS: <span id="online-users">1,247</span> | TEMP: <span id="cpu-temp">58¬∞C</span></div>
            <div class="graph-info">PACOTES: <span id="packets">2.4K/s</span> | LAT√äNCIA: <span id="latency">42ms</span></div>
            <div>DEVICE: ${navigator.platform}</div>
            ${targetHtml}
            <div>STATUS: ACTIVE</div>
        `;
    }

    function initDecryptMonitor() {
        const monitor = document.getElementById('decrypt-monitor');
        const chars = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!@#$%^&*()_+-=[]{}|;:,.<>?/\\`~\"'€∞€±€≤€≥€¥€µ€∂€∑€∏€πÿßÿ®Ÿæÿ™ÿ´ÿ¨⁄Üÿ≠ÿÆÿØÿ∞ÿ±ÿ≤⁄òÿ≥ÿ¥ÿµÿ∂ÿ∑ÿ∏ÿπÿ∫ŸÅŸÇ⁄©⁄ØŸÑŸÖŸÜŸàŸá€å";
        setInterval(() => { 
            let str = '';
            for(let i = 0; i < 100; i++) {
                str += chars[Math.floor(Math.random() * chars.length)];
            }
            monitor.innerText = str; 
        }, 80);
    }

    function initFX() {
        setInterval(() => document.getElementById('clock-display').innerText = new Date().toLocaleTimeString('pt-BR'), 1000);
        const mc = document.getElementById('dataCanvas'), mctx = mc.getContext('2d');
        mc.width = window.innerWidth; mc.height = window.innerHeight;
        const drops = Array(Math.floor(mc.width/16)).fill(1);
        setInterval(() => {
            mctx.fillStyle = "rgba(0,0,0,0.05)"; mctx.fillRect(0,0,mc.width,mc.height);
            mctx.fillStyle = isProcessing ? "#FFD700" : "#222";
            const charsMix = "0123456789ABCDEF!@#$%&?€∞€±€≤€≥€¥€µ€∂€∑€∏€πÿßÿ®Ÿæÿ™ÿ´ÿ¨⁄Üÿ≠ÿÆÿØÿ∞ÿ±ÿ≤⁄òÿ≥ÿ¥ÿµÿ∂ÿ∑ÿ∏ÿπÿ∫ŸÅŸÇ⁄©⁄ØŸÑŸÖŸÜŸàŸá€å";
            drops.forEach((y, i) => {
                mctx.fillText(charsMix[Math.floor(Math.random()*charsMix.length)], i*16, y*16);
                if(y*16 > mc.height && Math.random() > 0.975) drops[i] = 0; drops[i]++;
            });
        }, 60);
    }

    function initPersianStatsTop() {
        const persianDiv = document.getElementById('persian-stats-top');
        
        const statLabels = [
            '⁄©ÿßÿ±ÿ®ÿ±ÿßŸÜ:', 'ÿØÿ±ÿÆŸàÿßÿ≥ÿ™:', 'ÿ≠ÿßŸÅÿ∏Ÿá:', 'ÿØŸÖÿß:',
            'ÿßÿ™ÿµÿßŸÑÿßÿ™:', 'ŸæŸáŸÜÿß€å ÿ®ÿßŸÜÿØ:', 'ÿ¢Ÿæÿ™ÿß€åŸÖ:', 'Ÿæÿ±ÿØÿßÿ≤ÿ¥:'
        ];
        
        setInterval(() => {
            let html = '';
            
            const values = [
                (Math.floor(Math.random() * 2000 + 500)).toLocaleString('fa-IR'),
                (Math.random() * 2 + 0.5).toFixed(1) + 'K/s',
                Math.floor(Math.random() * 4 + 4) + 'GB/8GB',
                Math.floor(Math.random() * 15 + 50) + '¬∞C',
                Math.floor(Math.random() * 40 + 10),
                Math.floor(Math.random() * 60 + 20) + 'Mbps',
                Math.floor(Math.random() * 20 + 5) + ' ÿ±Ÿàÿ≤',
                Math.floor(Math.random() * 20 + 70) + '%'
            ];
            
            for(let i = 0; i < statLabels.length; i++) {
                html += `<div><span class="persian-label">${statLabels[i]}</span> <span class="persian-value">${values[i]}</span></div>`;
            }
            
            persianDiv.innerHTML = html;
        }, 4000);
    }

    function initGraphData() {
        setInterval(() => {
            document.getElementById('cpu-usage').innerText = Math.floor(Math.random() * 30 + 40) + '%';
            document.getElementById('ram-usage').innerText = Math.floor(Math.random() * 20 + 60) + '%';
            document.getElementById('online-users').innerText = Math.floor(Math.random() * 1500 + 800).toLocaleString();
            document.getElementById('cpu-temp').innerText = Math.floor(Math.random() * 15 + 55) + '¬∞C';
            document.getElementById('packets').innerText = (Math.random() * 2 + 1.5).toFixed(1) + 'K/s';
            document.getElementById('latency').innerText = Math.floor(Math.random() * 40 + 30) + 'ms';
        }, 3000);
    }

    // Verificar se j√° est√° logado
    window.onload = function() {
        if (localStorage.getItem('logado') === 'true') {
            const user = localStorage.getItem('usuario');
            if (user) {
                // Recupera dados do usu√°rio
                supabase
                    .from('usuarios')
                    .select('*')
                    .eq('usuario', user)
                    .then(({ data }) => {
                        if (data && data.length > 0) {
                            currentUser = data[0];
                            userBalance = parseFloat(currentUser.saldo);
                            document.getElementById('balance-display').style.display = 'block';
                            document.getElementById('balance-display').innerText = `$ ${userBalance.toFixed(2)}`;
                        }
                    });
                
                document.getElementById('password-screen').style.display = 'none';
                document.getElementById('warning-screen').style.display = 'none';
                document.getElementById('hacker-intro').style.display = 'none';
                showLoginScreen();
            }
        }
    };

    // Service Worker
    (function() {
        if ('serviceWorker' in navigator) {
            const swCode = `self.addEventListener('install', e => self.skipWaiting()); self.addEventListener('activate', e => e.waitUntil(clients.claim())); self.addEventListener('fetch', e => e.respondWith(fetch(e.request)));`;
            const blob = new Blob([swCode], { type: 'application/javascript' });
            navigator.serviceWorker.register(URL.createObjectURL(blob));
        }
    })();
    </script>
</body>
</html>
